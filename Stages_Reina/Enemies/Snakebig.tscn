[gd_scene load_steps=5 format=2]

[ext_resource path="res://Stages/EnemyBase.tscn" type="PackedScene" id=1]
[ext_resource path="res://Stages_Reina/Ouroboros/snakeHead_tmp.png" type="Texture" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends \"res://Stages/EnemyBaseScript.gd\"

export(NodePath) var bottom_rings_n;
#onready var bottom_rings = get_node(bottom_rings_p);


var bottom_rings:Array
var bottom_rings_positions:PoolIntArray

func _ready():
	var n:Node2D = get_node(bottom_rings_n)
	bottom_rings_positions.resize(n.get_child_count())
	bottom_rings.resize(n.get_child_count())
	for i in range(n.get_child_count()):
		bottom_rings_positions[i]=i%4
		bottom_rings[i]=n.get_child(i)

var timer:float=999
func _process(delta):
	timer+=delta
	if timer>.5:
		for i in range(bottom_rings.size()):
			var n = bottom_rings_positions[i]
			n+=1
			if n > 3:
				n=0
				
			var pos:float =64
			match n:
				1,3:
					pos=96
				2:
					pos=128
			bottom_rings[i].position.y=pos
			bottom_rings_positions[i]=n
		timer=0
"

[sub_resource type="SpriteFrames" id=2]
animations = [ {
"frames": [ ExtResource( 2 ) ],
"loop": true,
"name": "default",
"speed": 5.0
} ]

[node name="Snakebig" instance=ExtResource( 1 )]
script = SubResource( 1 )
use_large_explosion = true

[node name="AnimatedSprite" parent="." index="0"]
frames = SubResource( 2 )
